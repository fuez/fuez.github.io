<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>security - Andy's Blog</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="Andy Zhang"><meta name=description content="How to open a CRL file? openssl crl -inform DER -text -noout -in mycrl.crl How do I verify that a private key matches a certificate? How do I verify that a private key matches a certificate? To verify that an RSA private key matches the RSA public key in a certificate you need to i) verify the consistency of the private key and ii) compare the modulus of the public"><meta name=keywords content="linux,SRE,software"><meta name=generator content="Hugo 0.60.1 with theme even"><link rel=canonical href=http://localhost:1313/post/tips/security/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/dist/even.c2a46f00.min.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="security"><meta property="og:description" content="How to open a CRL file? openssl crl -inform DER -text -noout -in mycrl.crl How do I verify that a private key matches a certificate? How do I verify that a private key matches a certificate? To verify that an RSA private key matches the RSA public key in a certificate you need to i) verify the consistency of the private key and ii) compare the modulus of the public"><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/post/tips/security/"><meta property="article:published_time" content="2017-06-13T11:48:45+08:00"><meta property="article:modified_time" content="2018-07-06T16:52:44+08:00"><meta itemprop=name content="security"><meta itemprop=description content="How to open a CRL file? openssl crl -inform DER -text -noout -in mycrl.crl How do I verify that a private key matches a certificate? How do I verify that a private key matches a certificate? To verify that an RSA private key matches the RSA public key in a certificate you need to i) verify the consistency of the private key and ii) compare the modulus of the public"><meta itemprop=datePublished content="2017-06-13T11:48:45+08:00"><meta itemprop=dateModified content="2018-07-06T16:52:44+08:00"><meta itemprop=wordCount content="290"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="security"><meta name=twitter:description content="How to open a CRL file? openssl crl -inform DER -text -noout -in mycrl.crl How do I verify that a private key matches a certificate? How do I verify that a private key matches a certificate? To verify that an RSA private key matches the RSA public key in a certificate you need to i) verify the consistency of the private key and ii) compare the modulus of the public"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>Andy's Blog</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>Andy's Blog</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>security</h1><div class=post-meta><span class=post-time>2017-06-13</span><div class=post-category><a href=/categories/tip/>tip</a></div><span class=more-meta>290 words</span>
<span class=more-meta>1 min read</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><a href=#how-to-open-a-crl-file>How to open a CRL file?</a></li><li><a href=#how-do-i-verify-that-a-private-key-matches-a-certificate>How do I verify that a private key matches a certificate?</a></li><li><a href=#how-to-display-content-of-certificatehttpsupportqacafecomknowledgebasehowdoidisplaythecontentsofasslcertificate>How to display content of certificate?</a></li><li><a href=#reference>Reference</a></li><li><a href=#pkcs11-wikihttpsenwikipediaorgwikipkcs11>PKCS#11 wiki</a></li><li><a href=#cfssl-introdutionhttpsblogcloudflarecomintroducingcfssl>cfssl introdution</a></li><li><a href=#cfssl-on-githubhttpsgithubcomcloudflarecfssl>cfssl on github</a></li><li><a href=#osccahttpwwwosccagovcn>oscca</a></li><li><a href=#hongwei-gitbookhttpshongweigithubgitbooksioadcbookcontentverifoneapisdksmhtml>hongwei gitbook</a></li><li><a href=#simply-put-how-does-certificatebased-authentication-workhttpwwwnetworkworldcomarticle2226498infrastructuremanagementsimplyputhowdoescertificatebasedauthenticationworkhtml>Simply put: How does certificate-based authentication work?</a></li><li><a href=#investigation-for-fabric-security-solution-for-china>Investigation for fabric security solution for China</a><ul><li><a href=#ca>CA</a></li></ul></li><li><a href=#certificate-chain-for-ftsafe-httpswwwftsafecomcn>Certificate chain for ftsafe 飞天诚信:</a></li><li><a href=#china-ca>China CA</a></li><li><a href=#sm234-implementations-gmss-in-clanghttpgmsslorga>SM2/3/4 implementations: gmss in clang</a></li><li><a href=#encryption-machine-implementing-sm234-httpwwwkeyoucnproductproductdetailaspxid33>Encryption machine implementing SM2/3/4:</a><ul><li><a href=#yubicohttpswwwyubicocom>Yubico</a></li></ul></li><li><a href=#otp-vs-u2f-strong-to-stronger-httpswwwyubicocom201602otpvsu2fstrongtostronger>OTP VS. U2F: STRONG TO STRONGER</a></li><li><a href=#u2fhttpsenwikipediaorgwikiuniversal2ndfactor>U2F</a><ul><li><a href=#reference1>Reference:</a></li></ul></li><li><a href=#safenet-on-awshttpwwwsecdoctorcomhtmlhyxx26050html>SafeNet on AWS</a></li><li><a href=#httpwwwosccagovcnnews200512news1053htm>商用密码管理条例</a></li><li><a href=#ppt-on-sm2-planhttpswwwietforgproceedings87slidesslides87cfrg2pdf>PPT on SM2 plan</a></li><li><a href=#sm2httpwwwosccagovcnnews201012news1198htm>SM2</a></li><li><a href=#httpwwwosccagovcnnews201204news1228htm>国家密码管理局公告</a></li><li><a href=#internet-x509httpstoolsietforghtmlrfc5280section4213>Internet X.509</a></li><li><a href=#yubihsmhttpswwwyubicocomproductsyubihsm>yubihsm</a></li><li><a href=#next-consensus-architecture-proposalhttpsgithubcomhyperledgerarchivesfabricwikinextconsensusarchitectureproposal>Next Consensus Architecture Proposal</a></li><li><a href=#secure-hashhttpsenwikipediaorgwikisecurehashalgorithm>Secure Hash</a></li><li><a href=#publickey-cryptographyhttpsenwikipediaorgwikipublickeycryptography>Public-key cryptography</a></li><li><a href=#elliptic-curve-digital-signature-algorithmhttpsenwikipediaorgwikiellipticcurvedigitalsignaturealgorithm>Elliptic Curve Digital Signature Algorithm</a></li><li><a href=#cipher-machineshttpciphermachinescom>cipher machines</a></li></ul></nav></div></div><div class=post-content><h2 id=how-to-open-a-crl-file>How to open a CRL file?</h2><pre><code>openssl crl -inform DER -text -noout -in mycrl.crl
</code></pre><h2 id=how-do-i-verify-that-a-private-key-matches-a-certificate>How do I verify that a private key matches a certificate?</h2><pre><code>How do I verify that a private key matches a certificate?
To verify that an RSA private key matches the RSA public key in a certificate you need to i) verify the consistency of the private key and ii) compare the modulus of the public key in the certificate against the modulus of the private key.

To verify the consistency of the RSA private key and to view its modulus:
openssl rsa -modulus -noout -in myserver.key | openssl md5

To view the modulus of the RSA public key in a certificate:
openssl x509 -modulus -noout -in myserver.crt | openssl md5
</code></pre><h2 id=how-to-display-content-of-certificatehttpsupportqacafecomknowledgebasehowdoidisplaythecontentsofasslcertificate><a href=http://support.qacafe.com/knowledge-base/how-do-i-display-the-contents-of-a-ssl-certificate/>How to display content of certificate?</a></h2><pre><code>openssl x509 -in acs.qacafe.com.pem -text
penssl x509 -in MYCERT.der -inform der -text
</code></pre><h2 id=reference>Reference</h2><h2 id=pkcs11-wikihttpsenwikipediaorgwikipkcs11><a href=https://en.wikipedia.org/wiki/PKCS_11>PKCS#11 wiki</a></h2><h2 id=cfssl-introdutionhttpsblogcloudflarecomintroducingcfssl><a href=https://blog.cloudflare.com/introducing-cfssl/>cfssl introdution</a></h2><h2 id=cfssl-on-githubhttpsgithubcomcloudflarecfssl><a href=https://github.com/cloudflare/cfssl>cfssl on github</a></h2><h2 id=osccahttpwwwosccagovcn><a href=http://www.oscca.gov.cn/#>oscca</a></h2><h2 id=hongwei-gitbookhttpshongweigithubgitbooksioadcbookcontentverifoneapisdksmhtml><a href=https://hongweigithub.gitbooks.io/adc-book/content/verifone-apisdk/sm.html>hongwei gitbook</a></h2><h2 id=simply-put-how-does-certificatebased-authentication-workhttpwwwnetworkworldcomarticle2226498infrastructuremanagementsimplyputhowdoescertificatebasedauthenticationworkhtml><a href=http://www.networkworld.com/article/2226498/infrastructure-management/simply-put-how-does-certificate-based-authentication-work.html>Simply put: How does certificate-based authentication work?</a></h2><h2 id=investigation-for-fabric-security-solution-for-china>Investigation for fabric security solution for China</h2><h3 id=ca>CA</h3><h2 id=certificate-chain-for-ftsafe-httpswwwftsafecomcn>Certificate chain for <a href=https://www.ftsafe.com.cn/>ftsafe 飞天诚信</a>:</h2><ul><li><a href=https://www.startssl.com/AboutUS>StartCom</a></li><li><a href=https://www.wosign.com/>WoSign 沃通</a></li></ul><h2 id=china-ca>China CA</h2><pre><code>+ [CFCA(China Financial Certificate Authority)](https://www.cfca.com.cn/): Signature Algorithm: SHA-256 with RSA Encryption. But also support SM2/SM3. Refer to [certificate chain diagram](http://www.cfca.com.cn/20150811/101230561.html) for detail.
+ CTCA:中国电信CA认证中心
+ [SHECA(Shanghai Electronic Certificate Authority Center)](https://www.sheca.com/Home)
</code></pre><h2 id=sm234-implementations-gmss-in-clanghttpgmsslorga>SM2/3/4 implementations: <a href=http://gmssl.org/A>gmss in clang</a></h2><h2 id=encryption-machine-implementing-sm234-httpwwwkeyoucnproductproductdetailaspxid33>Encryption machine implementing SM2/3/4: <a href="http://www.keyou.cn/product/product-detail.aspx?id=33">http://www.keyou.cn/product/product-detail.aspx?id=33</a></h2><h3 id=yubicohttpswwwyubicocom><a href=https://www.yubico.com/>Yubico</a></h3><h2 id=otp-vs-u2f-strong-to-stronger-httpswwwyubicocom201602otpvsu2fstrongtostronger><a href=https://www.yubico.com/2016/02/otp-vs-u2f-strong-to-stronger/>OTP VS. U2F: STRONG TO STRONGER</a></h2><h2 id=u2fhttpsenwikipediaorgwikiuniversal2ndfactor><a href=https://en.wikipedia.org/wiki/Universal_2nd_Factor>U2F</a></h2><h3 id=reference1>Reference:</h3><h2 id=safenet-on-awshttpwwwsecdoctorcomhtmlhyxx26050html><a href=http://www.secdoctor.com/html/hyxx/26050.html>SafeNet on AWS</a></h2><h2 id=httpwwwosccagovcnnews200512news1053htm><a href=http://www.oscca.gov.cn/News/200512/News_1053.htm>商用密码管理条例</a></h2><h2 id=ppt-on-sm2-planhttpswwwietforgproceedings87slidesslides87cfrg2pdf><a href=https://www.ietf.org/proceedings/87/slides/slides-87-cfrg-2.pdf>PPT on SM2 plan</a></h2><h2 id=sm2httpwwwosccagovcnnews201012news1198htm><a href=http://www.oscca.gov.cn/News/201012/News_1198.htm>SM2</a></h2><h2 id=httpwwwosccagovcnnews201204news1228htm><a href=http://www.oscca.gov.cn/News/201204/News_1228.htm>国家密码管理局公告</a></h2><h2 id=internet-x509httpstoolsietforghtmlrfc5280section4213><a href=https://tools.ietf.org/html/rfc5280#section-4.2.1.3>Internet X.509</a></h2><h2 id=yubihsmhttpswwwyubicocomproductsyubihsm><a href=https://www.yubico.com/products/yubihsm/>yubihsm</a></h2><h2 id=next-consensus-architecture-proposalhttpsgithubcomhyperledgerarchivesfabricwikinextconsensusarchitectureproposal><a href=https://github.com/hyperledger-archives/fabric/wiki/Next-Consensus-Architecture-Proposal>Next Consensus Architecture Proposal</a></h2><h2 id=secure-hashhttpsenwikipediaorgwikisecurehashalgorithm><a href=https://en.wikipedia.org/wiki/Secure_Hash_Algorithm>Secure Hash</a></h2><h2 id=publickey-cryptographyhttpsenwikipediaorgwikipublickeycryptography><a href=https://en.wikipedia.org/wiki/Public-key_cryptography>Public-key cryptography</a></h2><h2 id=elliptic-curve-digital-signature-algorithmhttpsenwikipediaorgwikiellipticcurvedigitalsignaturealgorithm><a href=https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm>Elliptic Curve Digital Signature Algorithm</a></h2><h2 id=cipher-machineshttpciphermachinescom><a href=http://ciphermachines.com/>cipher machines</a></h2></div><footer class=post-footer><nav class=post-nav><a class=prev href=/post/tips/scrapy/><i class="iconfont icon-left"></i><span class="prev-text nav-default">scrapy</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=/post/tips/ssh/><span class="next-text nav-default">ssh</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:leowa@outlook.com class="iconfont icon-email" title=email></a><a href=https://github.com/leowa class="iconfont icon-github" title=github></a><a href=http://localhost:1313/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=copyright-year>&copy;
2019
<span class=heart><i class="iconfont icon-heart"></i></span><span class=author>Andy Zhang</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/dist/even.26188efa.min.js></script></body></html>